# openvpnstats
Небольшой монитор статистики сервера OpenVPN

---  

### Запуск

Если запускать утилиту без Docker, как отдельные файлы, то сначала придётся вручную сбилдить фронтенд - `cd server/client && npm i && npm run build`. После этого появится папка с билдом фронтенда - `server/client/dist`

Потом нужно будет либо добавить в переменные окружения `DB_CONN=<строка подключения к mongoDB>`, либо просто захардкодить её прям в файлике там где `client = MongoClient()` заменить `os.environ[DB_CONN]` на эту самую строку

После этого уже можно будет запускать сервер - `cd server && python ./app.py`. Но если запускать его без WSGI (в докере используется gunicorn), то нужно указать в последней строчке `app.py` в качестве хоста `0.0.0.0`, чтобы получилось `app.run(host=0.0.0.0)`. Тут же можно и порт указать, по дефолту там вроде на 5000 порту должно завестись. На этом этапе уже можно будет попробовать открыть server_ip:5000, должна будет показаться та самая страничка 

И в парсере тоже нужно будет заменить строку подключения к БД, если не используются переменные окружения. Там ещё интеграция с телеграмом была сделана - если она не нужна, то можно просто закомментить строки 13-15 и 61-65 в parser/main.py *(не уверен, что парсер вообще запустится, если их не убрать и не указать конфиг для бота в ТГ)*
